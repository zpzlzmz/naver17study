<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Document</title>
		<link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu&family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
		<style>
		body *{
			font-family: 'Jua';
			}
		</style>
	</head>

	<body>
		<div class="a">
			<h5>Hello1</h5>	
			<img src="../mycar/mycar11.png" width="100px" alt="">
		</div>
		<div class="a">
			<h5>Hello2</h5>	
			<img src="../mycar/mycar10.png" width="100px" alt="">
		</div>
		<div class="a">
			<h5>Hello3</h5>	
			<img src="../mycar/mycar13.png" width="100px" alt="">
		</div>
		<hr>
		<h5 class="title">111</h5>
		<img src="" alt="사진 없음" class="mainphoto" onerror="this.src='../food/11.jpg'" width="300">

		<script>
			
			$("div.a").css({
				"width":"300px",
				"height":"200px",
				"border":"1px solid gray",
				"margin":"20px"
			});

				//selector를 이용한 반복문 each문 ex) div index 가 3개 이기 때문에 3번 반복 
			$("div.a").each(function(idx,ele){
				let r = parseInt(Math.random()*256);
				let g = parseInt(Math.random()*256);
				let b = parseInt(Math.random()*256);
				let color = `rgb(${r},${g},${b})`;

				// $(this).css("background-color",color);
				$(ele).css("background-color",color);
			});


			/*jquery에서 노드 찾기
			next():다음노드
			prev():이전노드
			find or children:자식노드
			parent:부모노드
			parents:최상위 부모노드
			siblings: 형제노드	
			*/


			//div.a 에서 mouseover 이벤트를 구현한 경우 
			// $("div.a").mouseover(function(){
			// 	//1. 배경색을 얻어서 h5.title 의 배경색을 ㅗ넣는다
			// 	let bcolor = $(this).css("background-color");
			// 	$("h5.title").css("background-color",bcolor);

			// 	//2. 하위태그중 h5의 text를 얻어서 h5.title 에 넣는다 
			// 	let msg = $(this).children("h5").text();
			// 	$("h5.title").text(msg);
			// 	//3. 하위태그중 img의 src 를 얻어서 img.mainphoto에 넣는다
			// 	let imgSrc=$(this).find("img").attr("src");
			// 	$("img.mainphoto").attr("src",imgSrc);

			// });
			//div.a>img 에서 mouseOver이벤트를 구현한 경우
			//위와 같은 결과가 나오도록

			$("div.a>img").mouseover(function(){
				//1.부모의 배경색을 얻어서 h5.title 에 배경색으로 넣는다
				let pcolor=$(this).parent().css("background-color");
				$("h5.title").css("background-color",pcolor);
				//2. 형제태그중 h5의 text를 얻어서 h5.title에 넣는다
				let msg = $(this).siblings("h5").text();
				$("h5.title").text(msg);

				//3. 자기자신의 src를 얻어서 img.mainphotto에 너기
				$("img.mainphoto").attr("src",$(this).attr("src"));
			})

		</script>
	</body>
</html>